# haco3_JS_X
haco3_JS for external physical buttons
こちらは物理ボタンに対応したJavaScript版です。今のところ3ボタンに対応していて、
setupでピンアサインを
ui.setupPhBtns( screen, 33, 39, 36);
のように設定できます。

lua版はこちらです。
https://github.com/dentaro/haco3

「ハコさん」というキャラが大活躍する（はずの）esp32で動くレトロゲームエンジンを開発中です。

ビルドオプションの設定などが必要なため、インストールはplatformIOでしかできません。（Arduino不可）

基本はゲームエンジン開発者の方向けの、コードの共有用です。

プロジェクタ内のフォルダをコピーした「コード」だけをあげているので、platformIOプロジェクトを作って動くようにしてからコピペするなどesp32向けのセッティングは、
ご自身で調べてお願いします。

実体は、inajobさんのo-bako をlovyanGFXに移植し、DentaroUI（同梱のカスタム仕様）から操作できるようにしたものです。

ハード的には下のサイトで紹介されている、2432S028Rという、esp32マイコンボード＋タッチ液晶のボードにチューニングしてあります。

https://lang-ship.com/blog/work/esp32-2432s028r-1/

コード共有用のベータ版で、バグありありです。ご了承の上、遊んでみてください。
（少しずつ改善していきます）

JavaScript言語(Duktape)が動いていて、以下のo-bakoの言語仕様で動いています。

https://inajob.github.io/o-bako-simulator/index.html


ーーーーーーーーーーーーーーーーーーー＜使い方＞ーーーーーーーーーーーーーーーーーーー

platformIOのインストールができたら、

dataフォルダ内のinitの中身がゲームの本体になります。それぞれを編集してゲーム制作ができます。

　　・sprite.bmpは画像編集ソフトを使ってドット絵を描いて編集してください。

　　・main.luaはlua言語で開発ができます。（haco3シムを使って、Webブラウザで開発ができます。）

　　・game.jsonは通常編集しません。
  
  ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー
（2022.9.1)

３つの物理ボタンに対応しました。

ディレクトリ名から日本語を削除しました。ディレクトリ構造を修正しました。

（2022.8.31)

Wifi機能を切ってメモリ確保しました。

RAM:   [=         ]   9.4% (used 30756 bytes from 327680 bytes)

Flash: [=====     ]  53.2% (used 697929 bytes from 1310720 bytes)

（2022.8.29)

サンプルスプライトを追加しました。


  ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー

ゲームエンジンではなく、JSでのゲームサンプルを作っていただける方は、luaを使ったWebブラウザでゲーム開発ができるhaco3simによる開発も楽しいかもしれません。

https://github.com/dentaro/haco3sim/

ゲームエンジン、ゲームサンプル両方から「ハコさん」を大活躍させていただける方は、ぜひ一緒に開発していただけませんか？
プログラミングできないよという方でも使えそうなドット絵作ってみたなど、ご協力の形は楽しんでいただける方なら、なんでもOKです！
